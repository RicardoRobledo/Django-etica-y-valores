{% extends "users/base.html" %}

{% load static %}

{% block title %}Agregar Usuarios{% endblock %}

{% block content %}

<link rel="stylesheet" href="{% static 'css/add_user.css' %}">

<div class="container my-4">
    <header class="text-center mb-4">
        <h1>Agregar Usuario</h1>
    </header>

    <!-- Modal -->
    <div class="modal fade" id="modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="staticBackdropLabel">Modal title</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <p></p>
          </div>
        </div>
      </div>
    </div>

    <div class="container mt-5">

        <form class="needs-validation rounded-0 form-container" method="post" enctype="multipart/form-data" novalidate>
            {% csrf_token %}
            <div class="row">
                <!-- Primera Sección -->
                <div class="col-lg-6">

                    <div class="mb-5">
                        <label for="name" class="form-label">Nombre</label>
                        <input type="text" id="name" class="form-control rounded-0" placeholder="Nombre" name="name" maxlength="50" required>
                        <div class="invalid-feedback">Por favor</div>
                    </div>

                    <div class="mb-5">
                        <label for="last-name" class="form-label">Segundo apellido</label>
                        <input type="text" id="last-name" class="form-control rounded-0" placeholder="Segundo apellido" name="last-name" maxlength="50" required>
                        <div class="invalid-feedback">Por favor</div>
                    </div>
                    
                    <div class="mb-5">
                        <label for="password" class="form-label">Contraseña</label>
                        <input type="text" id="password" class="form-control rounded-0" placeholder="Contraseña" name="password" maxlength="50" required>
                        <div class="invalid-feedback">Por favor</div>
                    </div>

                    <div class="mb-5">
                        <label for="user-level" class="form-label">Nivel de usuario</label>
                        <select id="user-level" class="form-select rounded-0" name="user-level" required>
                            <option value="">Selecciona una opción</option>
                            <option value="Superusuario">Superusuario</option>
                            <option value="Supervisor">Supervisor</option>
                            <option value="Operador">Operador</option>
                        </select>
                        <div class="invalid-feedback">Por favor, selecciona tu relación con la empresa.</div>
                    </div>

                </div>

                <!-- Segunda Sección -->
                <div class="col-lg-6">

                    <div class="mb-5">
                        <label for="middle-name" class="form-label">Primer apellido</label>
                        <input type="text" id="middle-name" class="form-control rounded-0" placeholder="Primer apellido" name="middle-name" maxlength="50" required>
                        <div class="invalid-feedback">Por favor</div>
                    </div>

                    <div class="mb-5">
                        <label for="username" class="form-label">Nombre de usuario</label>
                        <input type="text" id="username" class="form-control rounded-0" placeholder="Nombre de usuario" name="username" maxlength="50" required>
                        <div class="invalid-feedback">Por favor</div>
                    </div>

                    <div class="mb-5">
                        <label for="confirm-password" class="form-label">Confirma contraseña</label>
                        <input type="text" id="confirm-password" class="form-control rounded-0" placeholder="Confirma contraseña" name="confirm-password" maxlength="50" required>
                        <div class="invalid-feedback">Por favor</div>
                    </div>

                    <div class="mb-5">
                        <label for="supervisor" class="form-label">Supervisor</label>
                        <select id="supervisor" class="form-select rounded-0" name="supervisor" required>
                            <option value="">Selecciona una opción</option>>
                        </select>
                        <div class="invalid-feedback">Por favor, selecciona tu relación con la empresa.</div>
                    </div>

                </div>
            </div>

            <div class="dual-listbox my-5">
                <div class="listbox-container">
                    <h5>Permisos disponibles</h5>
                    <input type="text" class="form-control mb-2" placeholder="Filtro" id="filterAvailable">
                    <select class="form-select listbox" id="availableGroups" multiple>
                        <option value="1">Comentarios</option>
                        <option value="2">Alta</option>
                        <option value="3">Baja</option>
                        <option value="4">Guadalajara</option>
                        <option value="5">León</option>
                        <option value="6">Media</option>
                        <option value="7">Otro</option>
                        <option value="8">Playa del Carmen</option>
                        <option value="9">Querétaro</option>
                        <option value="10">Usuarios</option>
                        <option value="11">Veracruz</option>
                    </select>
                    <button class="btn btn-primary w-100 mt-2" id="selectAll">Seleccionar todos</button>
                </div>
                
                <div>
                    <button type="button" class="btn btn-outline-secondary" id="moveToSelected">➔</button>
                    <br>
                    <button type="button" class="btn btn-outline-secondary mt-3" id="moveToAvailable">⬅</button>
                </div>
        
                <div class="listbox-container">
                    <h5>Permisos seleccionados</h5>
                    <input type="text" class="form-control mb-2" placeholder="Filtro" id="filterSelected">
                    <select type="button" class="form-select listbox" id="selectedGroups" multiple></select>
                    <button type="button" class="btn btn-danger w-100 mt-2" id="removeAll">Eliminar todos</button>
                </div>
            </div>

            <div class="text-center">
                <button type="button" class="btn btn-primary">Crear usuario</button>
            </div>

        </form>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.3/dragula.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="{% static 'js/add_user.js' %}"></script>
{% endblock %}